import { Meta, Story, Preview } from "@storybook/addon-docs/blocks";

import readme from "./README.md";
import { Avatar } from "./avatar";
import "./avatar.css";
import image from "../../../../static/200x300_kitten.jpeg";

<Meta
  title="Components|Avatar"
  component={Avatar}
  parameters={{ notes: readme }}
/>

# Avatar

> A circular image representing one person

## Basic

<Preview>
  <Avatar src={image} alt="kitten" />
</Preview>

## Size

Avatar's size can be changed using the CSS Custom Property `--Avatar--size`.  
Here is an example scale using that property:

<Preview>
  <Story name="Size">
    <React.Fragment>
      <Avatar
        style={{ "--Avatar--size": "1.25rem" }}
        src={image}
        alt="kitten"
      />
      <Avatar style={{ "--Avatar--size": "1.5rem" }} src={image} alt="kitten" />
      <Avatar style={{ "--Avatar--size": "2.5rem" }} src={image} alt="kitten" />
      <Avatar style={{ "--Avatar--size": "4rem" }} src={image} alt="kitten" />
    </React.Fragment>
  </Story>
</Preview>

## Border

Avatar doesn't have a border by default but it knows how to handle one.  
Here is an example of Avatar being extended with a `status` indicating border, like Services:

<Preview>
  <Story name="Border">
    <Avatar
      style={{
        border: "2px solid hsl(7, 80%, 52%)",
      }}
      src={image}
      alt="kitten"
    />
  </Story>
</Preview>

_Note that absolute height is retained, using `box-sizing: border-box`_

# Component

This section documents the features of the supplied React component.  
It's not required for use but available for React apps.

## As

The Avatar component may be extended via the `as` component prop.  
This can be used to extend Avatar with functionality that might exist in a host app's `Box` component.

<Preview>
  <Story name="Component">
    <Avatar
      as={(props) => <div {...props} style={{ "--Avatar--size": "7rem" }} />}
      src={image}
      alt="kitten"
    />
  </Story>
</Preview>

## Children

Avatar is a multi-element component.  
It including a wrapper around an `img` element.

To tailor the `img` element, provide function as children:

<Preview>
  <Story name="Children">
    <Avatar src={image} alt="kitten">
      {(defaultProps) => (
        <img data-spice="some-extra-flavor" {...defaultProps} />
      )}
    </Avatar>
  </Story>
</Preview>
